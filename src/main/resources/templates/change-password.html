<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chỉnh sửa hồ sơ</title>
    <link th:href="@{/css/style-profile.css}" rel="stylesheet" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">
</head>

<body>
<header>
    <div class="header-container">
        <div class="logo">
            <a href="#"><i class="ri-home-4-line"></i> FPT Shop</a>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Nhập tên điện thoại, máy tính, phụ kiện...">
        </div>
        <div class="profile-icon">
            <a href="#"><i class="ri-user-line"></i> Tài khoản</a>
        </div>
        <div class="cart-icon">
            <a href="#"><i class="ri-shopping-cart-line"></i> Giỏ hàng</a>
        </div>
    </div>
</header>
<main>
    <div class="container">
        <section class="profile-edit">

            <h4 class="font-weight-bold py-3 mb-4">Đổi mật khẩu</h4>
            <form th:action="@{/change-password}" method="post">
                <div class="form-group">
                    <label class="form-label">Mật khẩu hiện tại:</label>
                    <input type="password" class="form-control" name="oldPassword" required/>
                </div>
                <div class="form-group">
                    <label class="form-label">Mật khẩu mới:</label>
                    <input type="password" class="form-control" name="newPassword" minlength="6" required/>
                </div>
                <div class="form-group">
                    <label class="form-label">Nhập lại mật khẩu mới:</label>
                    <input type="password" class="form-control" name="confirmPassword" minlength="6" required>
                </div>
                <div class="text-right mt-3">
                    <button type="submit" class="btn btn-primary">Đổi mật khẩu</button>&nbsp;
                    <button type="button" class="btn btn-default">Hủy</button>
                </div>
                <div th:if="${error}">
                    <p style="color: red;" th:text="${error}"></p>
                </div>
                <div th:if="${message}">
                    <p style="color: green;" th:text="${message}"></p>
                </div>
            </form>
        </section>
    </div>
</main>

<script>
    function onChangeFileTrigger() {
        const input = document.getElementById('image-upload');
        if (input && input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById('displayImage').src = e.target.result;
                document.getElementById('currentImageUrl').value = ''; // Clear the current image URL
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>

</body>

</html>
